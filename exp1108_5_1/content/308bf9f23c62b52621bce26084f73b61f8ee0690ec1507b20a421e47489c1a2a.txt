# signature: def longestSpecialPath(edges: List[List[int]], nums: List[int]) -> List[int]
# test name: test_complex_duplicate_pattern
def test_complex_duplicate_pattern():
    """Test with complex duplicate value patterns creating multiple valid segments"""
    edges = [[0,1,2],[0,2,1],[1,3,3],[1,4,2],[2,5,4],[2,6,1]]
    nums = [1,2,1,3,2,4,3]  # Duplicates: 0&2 (1), 1&4 (2), 3&6 (3)
    result = longestSpecialPath(edges, nums)
    # Valid paths: 0->2->5 (length 5, 3 nodes), 1->3 (length 3, 2 nodes)
    # 2->5 (length 4, 2 nodes), 0->1->4 (length 4, 3 nodes)
    assert result == [5, 3]