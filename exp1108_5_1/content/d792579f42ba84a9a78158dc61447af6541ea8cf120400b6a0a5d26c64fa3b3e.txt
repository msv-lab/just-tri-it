# signature: def longestSpecialPath(edges: List[List[int]], nums: List[int]) -> List[int]
# test name: test_deep_nested_duplicates
def test_deep_nested_duplicates():
    """Test with duplicates appearing at different levels in the tree"""
    edges = [[0,1,2],[1,2,1],[2,3,3],[3,4,1],[4,5,2]]
    nums = [1,2,1,3,2,4]  # Duplicates: 0&2 (value 1), 1&4 (value 2)
    result = longestSpecialPath(edges, nums)
    # Valid paths: 2->3->4->5 (length 6, 4 nodes), 0->1 (length 2, 2 nodes)
    # 1->2->3 (length 4, 3 nodes), 3->4->5 (length 3, 3 nodes)
    assert result == [6, 4]